# Fasty App（ファスティング記録アプリ）

> **本READMEは卒業制作の企画提出用です（初版／随時更新）**

---

## サービス概要（3行）

“断食（ファスティング）”を **挫折せずに楽しく続ける** ための記録・サポートアプリです。
目標時間を選んでワンタップで開始／終了、連続達成やご褒美で **小さな達成体験** を積み重ねます。
**タイマー×可視化×やさしいリマインド** で、無理なく習慣化をサポートします。

---

## このサービスへの思い・作りたい理由

* 自分自身がファスティングに挑戦する中で、開始の一歩・途中の迷い・失敗の罪悪感で継続が難しいと感じました。
* 「がんばりすぎない設計」「再開のしやすさ」「小さなご褒美」を組み合わせ、**自己肯定感を下げない体験** を作りたい。
* ダイエットアプリは多数あるものの、**ファスティング特化** の“細やかな導線”と“日本語UIのやさしさ”を両立したい。

---

## ユーザー層について

* **これからファスティングを始めたい初心者**：手順がわからず不安 → 目標プリセット/やさしい説明/質問導線。
* **習慣化したい社会人・学生**：忙しく継続が難しい → ワンタップ操作/軽い通知/連続達成の見える化。
* **短期で-3〜5kgを目指す人**：効果を実感したい → 記録のグラフ/達成バッジ/モチベーションコメント。

> 対象理由：国内でも16時間断食など“ゆるい実践者”が増加しており、**敷居の低い継続導線** のニーズが高いと考えています。

---

## サービスの利用イメージ

1. 目標時間（例：14h/16h/18h/24h）を選択 → **開始をタップ**。
2. タイマーが進行し、経過に応じた **やさしいリマインド**（例：「あと2時間でゴール！」）。
3. 終了をタップすると、**連続達成日数・達成率・体調メモ** を記録。
4. ダッシュボードで **週/月の達成率・連続日数・体重推移** を可視化。
5. 失敗した日も **“リセットしやすい”UI** で再開を促進（罪悪感を溜めない）。

---

## ユーザーの獲得について

* **SNS**：X/Instagramで短尺Tips、進捗スクショのシェア導線。
* **コンテンツ**：note/Zennで実体験記事＋軽量栄養知識、検索流入を狙う。
* **コミュニティ**：プログラミングスクール/健康コミュニティでのβテスト配布。
* **紹介機能**：連続達成や初回達成で招待リンクを出しやすくする。

---

## サービスの差別化ポイント・推しポイント

* **挫折しにくい導線**：ワンタップ開始/終了、失敗時の再開導線、ネガティブ文言を使わないマイクロコピー。
* **“ちいさなご褒美設計”**：連続達成/達成タイミングの軽い演出、バッジ、やさしい称賛コメント。
* **PWA対応×オフライン**：通信不安定でもタイマー継続（再接続時にサーバ同期）。
* **日本語UIに最適化**：食文化や生活リズムに合わせた時間帯の提案・文言。
* **プライバシー配慮**：広告トラッキングなし、エクスポート可能なデータポータビリティ。

---

## 機能候補

### MVP（初期リリース）

* 目標時間のプリセット選択（14h/16h/18h/24h）
* 開始/終了タイマー（クライアント×サーバのハイブリッド同期）
* 連続達成日数・月間達成率・体調メモ
* 記録一覧/詳細、簡易ダッシュボード
* 軽いブラウザ通知（ゴール近辺/未終了リマインド）

### 本リリースまで

* 体重・体脂肪の記録と **推移グラフ**（目標/実測の差分）
* バッジ/実績（初達成、7日連続、30日達成など）
* ストリーク保護（1回だけ“凍結”して継続扱い）
* PWA（ホーム追加/オフライン対応/Service Worker）
* SNSシェア（達成スクショ、OG画像自動生成）
* CSVエクスポート、簡易インポート
* 多言語化（日本語/英語）
* アクセシビリティ改善（音声読み上げ/コントラスト）

> 高度な技術要素：PWAオフライン処理、Web Push、背景ジョブでのリマインド、グラフ表示、時差（タイムゾーン）吸収。

---

## 使用する技術スタック（方針）

* **言語/FW**：Ruby 3.x / Ruby on Rails 7.x
* **DB**：MySQL（Docker Compose運用）
* **フロント**：Stimulus（Hotwire）、Tailwind CSS（構成済み）
* **ジョブ**：ActiveJob + GoodJob（PostgreSQL不要のためMySQL運用でも可） or Sidekiq（Redis導入の代替案）
* **通知**：Web Push API / Action Mailer（メール通知は将来）
* **グラフ**：Chartkick + Groupdate など
* **認証**：Devise（メール/パスワード）
* **権限**：Pundit（将来の管理画面想定）
* **テスト**：RSpec / Capybara / FactoryBot / Faker
* **CI**：GitHub Actions（Lint/テスト）
* **デプロイ**：Render（候補）/ Fly.io（代替）
* **監視**：Sentry（エラー）/ Healthcheck（稼働）

### CRUD以外の実装イメージ

* **タイマー同期**：開始/終了時刻はサーバ永続化。フロントは`setTimeout`/`requestAnimationFrame`で進行表示、再読込時はサーバ値から再計算。
* **連続達成**：`fasting_records`を日次で束ね、未終了や日跨ぎを吸収。集計はクエリ最適化（部分インデックス/複合インデックス）。
* **通知**：GoodJobの定期実行で近接ゴールを検出しWeb Push。ユーザ許諾をLocalStorageと紐付け。
* **PWA**：Service Workerでオフライン中も経過を継続表示し、復帰時に差分同期。

> 採用Gemは **メンテ状況/サポート期間** を都度確認の上、最終決定します。

---

## 画面（予定）

* ホーム/ダッシュボード（連続日数・達成率）
* 記録一覧・詳細（体調/メモ）
* 記録作成（目標時間→開始/終了）
* 設定（通知、単位、言語）

---

## 今後のリスクと対策

* **タイマーの整合性**：端末スリープ/タイムゾーン → サーバ側のISO時刻を真実とし、クライアントは表示専用。
* **継続率の壁**：初週の離脱 → 1・3・7日目に軽い称賛とTipsを配信。
* **過負荷**：リマインドの集中実行 → バックオフ/シャーディングで分散。

---

## ライセンス/補足

* 教育目的のため、現時点ではMIT想定。商用化時は再検討。
* アイコン/画像は著作権に配慮し、差し替え可能なダミーを利用予定。
