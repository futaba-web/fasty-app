# Fasty Calm（断食 × 瞑想の習慣化アプリ）

> **キャッチコピー**：**「身体を整えるだけじゃなく、心も整えるファスティング」**  
> ※ 本READMEは卒業制作の企画提出用です（メンタルケア寄りに改訂）

---

## サービス概要（3行）
- 断食（ファスティング）と**瞑想/呼吸**を組み合わせ、空腹の波・ストレスを“やり過ごす力”を育てる習慣化アプリ。  
- 断食は**保存時に自動判定**、瞑想は**5/10/20/30分の短尺ガイド**へワンタップ導線（MVPは外部リンク）。  
- **ミニマルUI × ポジティブなフィードバック**＋**終了時コメント（1行）**で、無理なく毎日つづく。

---

## このサービスへの思い・作りたい理由
- 忙しさやストレスで「空腹の波」に飲まれ継続が難しい。入力や達成判定の手間も負担。  
- そこで、**記録は最小限（開始/終了/コメント）**に、**判定は自動化**。気分調整は**短い瞑想ガイド**と、保存時の**ひとことコメント**で支える。  
- うまくいかない日も**自己効力感を下げない**文言・設計で、翌日に橋をかける。

---

## ユーザー層（ペルソナ）
- **忙しくてストレスが多い社会人**：短時間で気持ちをリセット（3〜10分の呼吸/瞑想）。  
- **睡眠の質を上げたい人**：夜の軽い瞑想と断食でリズムを整えたい。  
- **マインドフルネス/瞑想に興味がある人**：取っ掛かりが欲しい → ワンタップで開始。  
- **“ダイエットだけじゃない”人**：体重以外（気分の記録、ストリーク）で継続モチベを維持。

---

## サービスの利用イメージ
1. 目標（12/14/16/18/20/22/24h）を選んで**開始**。  
2. 断食中に空腹の波や集中力低下を感じたら、**5/10/20/30分の瞑想リンク**へワンタップ。  
3. **終了**→保存で**達成/失敗は自動判定**。**コメント欄**にその時の気持ちを一言。  
4. マイページで**ストリーク（断食/瞑想）**や週/月の傾向を確認。

---

## 差別化ポイント
- **“摩擦ゼロ”の断食記録**：ワンタップ開始/終了＋**保存時の自動判定（秒精度・30s猶予）**。編集で**既存 end_time を上書きしない**。  
- **メンタル介入の同梱**：断食中に**短尺の瞑想/呼吸ガイド**へ即アクセス。  
- **ポジティブ・フラッシュ＋終了時コメント**：達成→称賛、未達→労い＋再開の背中押し。  
- **国内の“ゆる断食”最適化**：プリセット目標（12〜24h）とやさしい日本語UI。広告トラッキングなし／データエクスポート可。  
- **ミニマルUI**：入力は「開始・終了・コメント」に絞る。

---

## 競合比較（タイプ別・一般的傾向）
> 実在名は挙げず、タイプ別の一般的傾向として比較。実名は後日更新予定。

| 項目 | 本サービス | 競合A（断食タイマー型） | 競合B（瞑想アプリ型） |
|---|:---:|:---:|:---:|
| ワンタップ開始/終了＋**保存時自動判定** | ◎ | ○ | △ |
| 失敗時の**ポジティブ・フラッシュ** | ◎ | △ | △ |
| ストリーク（断食/瞑想） | ○ | ○ | △ |
| 断食中に**すぐ使える**瞑想導線 | ○ | △ | ◎ |
| **終了時コメント（1行の軽さ）** | ○ | △ | ○ |
| 日本語UIのやさしい文言 | ◎ | ○ | ○ |
| プライバシー配慮（広告追跡なし/エクスポート） | ○ | △ | △ |
| **ミニマルUI**（入力/画面遷移の少なさ） | ◎ | ○ | ○ |

◎=強み／○=対応あり／△=弱い or 焦点外

---

## MVPの本質とスコープ
**本質**：断食の継続率を上げる **摩擦最小＋前向きリスタート**  
- 入力・判断の負荷を最小化（ワンタップ開始/終了、保存時の自動判定）  
- 未達でも閉じない体験（結果別ポジティブ・フラッシュ、ストリークで小さな成功を可視化）

**MVP（必須）**
- 断食：開始/終了、**保存時自動判定（秒精度・30s猶予）**、**終了時コメント（1行）**  
- 画面：一覧/詳細/編集、**結果別ポジティブ・フラッシュ**  
- 指標：ストリーク（断食/瞑想の数値）

**MVP（任意・軽量）**
- 瞑想ガイド：**外部リンク一覧（YouTube）**のみ（埋め込み/自前音声は後続）

---

## 機能候補
### MVP
- 認証（Devise）  
- 断食：開始/終了、**保存時の自動判定**、**コメント**、**ストリーク（断食）**  
- 瞑想：**5/10/20/30分リンク**（外部サイトを新規タブで開く）  
- タイマー（Stimulus）、**結果に応じたポジティブ・フラッシュ**  
- 記録の一覧/詳細/編集/削除（断食/瞑想）

### 本リリースまで
- 週/月の統計（断食達成率・平均断食時間・瞑想回数/合計分）  
- **静かなリマインド**（ゴール接近/未終了/夜間は控えめ）  
- **アダプティブ目標提案**（直近の達成＆瞑想状況から）  
- 成功体験リンク集（YouTube/Webの厳選キュレーション）  
- PWA化（オフライン）、共有画像、カスタム目標

---

## 使用技術 / 実装イメージ
- Rails **7.1**（Ruby **3.2.2**）／MySQL **8.0**（Docker Compose）  
- Stimulus（Hotwire）／Tailwind／Importmap／Devise  
- **自動判定**：`FastingRecord` の `before_validation` で `success` を算出（猶予30s）  
- **ポジティブ・フラッシュ**：`update` 時に `flash_message_for(@record)` で結果別に出し分け  
- **タイマー**：毎秒再計算。**編集では既存 `end_time` を上書きしない**  
- **瞑想**：MVPはリンクのみ（`/meditations`）。将来は `MeditationSession` を導入予定  
- **ストリーク**：断食/瞑想を日単位で集計
