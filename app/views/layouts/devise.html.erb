<!DOCTYPE html>
<html lang="ja">
  <head>
    <title><%= content_for?(:title) ? yield(:title) : "Fasty" %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <!-- importmap & エントリ（Turbo/Stimulus 起動） -->
    <%= javascript_importmap_tags %>
    <%= javascript_import_module_tag "application", "data-turbo-track": "reload" %>

    <!-- Bootstrap は Devise画面だけに読み込む（CSSのみでOK） -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      data-turbo-track="reload"
    />

    <!-- Tailwind / app CSS（Bootstrapの後に置く） -->
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <%= yield :head %>
  </head>

  <body class="text-gray-900">
    <%= render "shared/header" %>

    <div class="auth-bg bg-fixed auto-top-35"
         style="background-image: url('<%= asset_path("landing/hero.jpg") %>')">
      <div class="auth-dim"></div>

      <main class="auth-center">
        <div class="auth-card">
          <%= render "shared/flash" %>
          <%= yield %>
        </div>
      </main>
    </div>

    <%= render "shared/footer" %>
  </body>
</html>
